(this["webpackJsonpfinlandchinanews-client-app"]=this["webpackJsonpfinlandchinanews-client-app"]||[]).push([[0],{11:function(e,t,a){"use strict";a.d(t,"f",(function(){return r})),a.d(t,"g",(function(){return n})),a.d(t,"e",(function(){return l})),a.d(t,"i",(function(){return _})),a.d(t,"h",(function(){return s})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return o})),a.d(t,"d",(function(){return u}));var r="login_request",n="login_success",l="login_failure",_="logout_success",s="logout_request",i="articles_received",c="article_info",o="article_filter",u="loading_articles"},112:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(33),_=(a(97),a(15)),s=a(24),i=a(18),c=a(16),o=a(22),u=a(17),m=a(23),d=a(32),p=a(10),E=a(7),h=a(11),f=a(77).stringify;var b=a(14),g=a(9),O=a(81),D=function(e){function t(){return Object(_.a)(this,t),Object(i.a)(this,Object(c.a)(t).call(this))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getArticles()}},{key:"renderArticle",value:function(e){this.props.gotoArticle(e)}},{key:"render",value:function(){var e=this;return n.a.createElement(p.a,null,this.props.loading&&n.a.createElement("div",{className:"text-center m-5"},n.a.createElement(O.a,{animation:"border",variant:"success"})),this.props.articles.reverse().map((function(t,a){return n.a.createElement("div",{key:a},(""===e.props.filter||t.title.toLowerCase().includes(e.props.filter.toLowerCase())||t.tags.toLowerCase().includes(e.props.filter.toLowerCase()))&&n.a.createElement(E.a,{className:"mt-4",style:{border:"none"}},n.a.createElement(E.a.Title,{className:"col m-3",style:{fontSize:"1.6rem",fontFamily:"Helvetica"}},t.title),n.a.createElement(E.a.Body,{className:"row"},n.a.createElement(d.b,{render:function(a){var r=a.history;return n.a.createElement(E.a.Img,{onClick:function(){r.push("/article/"+t._id),e.renderArticle(t)},className:"img-fluid col-md-4",style:{maxHeight:"20rem",width:"auto",objectFit:"cover"},src:t.img_url})}}),n.a.createElement("div",{className:"col-md-7 m-3"},n.a.createElement("div",{className:"row justify-content-start"},n.a.createElement("a",{className:"mr-1"},new Date(t.date).toDateString()),n.a.createElement("div",null,t.tags.split(",").map((function(t){return n.a.createElement("a",{className:"ml-1 mr-1 bg-secondary",href:"#",onClick:function(a){a.preventDefault(),a.stopPropagation(),e.props.setArticleFilter(t)},style:{margin:"auto",color:"white",paddingLeft:"1rem",paddingRight:"1rem"}},t)})))),n.a.createElement(E.a.Text,{className:"row mt-2",style:{fontSize:"1.2rem",fontFamily:"Helvetica"}},t.lead),n.a.createElement("div",{className:"row"},n.a.createElement(m.b,{to:"/article/"+t._id,onClick:function(){return e.renderArticle(t)}},"Read more"))))))})))}}]),t}(r.Component);var P=Object(b.a)((function(e){var t=e.ArticleReducer,a=e.AuthReducer;return{articles:t.articles,loading:t.loading_articles,filter:t.filter,isAuthenticated:a.isAuthenticated}}),{getArticles:g.d,gotoArticle:g.e,setArticleFilter:g.f})(D),A=(r.Component,a(46)),v=function(e){function t(){return Object(_.a)(this,t),Object(i.a)(this,Object(c.a)(t).call(this))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement(p.a,null,n.a.createElement("h2",null,this.props.article_info.title),n.a.createElement("p",null,this.props.article_info.lead),n.a.createElement("p",null,this.props.article_info.tag),n.a.createElement(A.a,null,n.a.createElement(A.a.Image,{src:this.props.article_info.img_url})),n.a.createElement("p",null,this.props.article_info.text))}}]),t}(r.Component);var M=Object(b.a)((function(e){return e.ArticleReducer,{isAuthenticated:e.AuthReducer.isAuthenticated}}),{getArticle:g.c,getArticles:g.d,gotoArticle:g.e})(v),C=a(60),y=function(e){function t(){var e;return Object(_.a)(this,t),(e=Object(i.a)(this,Object(c.a)(t).call(this))).state={articleId:""},e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;if(null==this.props.article_info){var t=window.location.hash.split("#/article/")[1];this.setState({articleId:t}),this.props.getArticle(t)}0===this.props.articles.length&&this.props.getArticles(),window.scrollTo(0,0),window.onpopstate=function(){if(window.location.hash.startsWith("#/article/")){var t=window.location.hash.split("#/article/")[1],a=e.props.articles.find((function(e){return e._id===t}));null!==a?e.props.gotoArticle(a):e.props.getArticle(t)}}}},{key:"renderArticle",value:function(){if(this.props.article_info)switch(this.props.article_info.template){case"Simple":return n.a.createElement(C.a,{editArticle:!1,showArticle:!0,title:this.props.article_info.title,author:this.props.article_info.author,lead:this.props.article_info.lead,sources:this.props.article_info.sources,tag:this.props.article_info.tags,layoutDataCallback:function(e){return console.log(e)}});case 6:default:return n.a.createElement(M,{article_info:this.props.article_info})}}},{key:"handleGotoArticle",value:function(e){this.props.gotoArticle(e),window.scrollTo(0,300)}},{key:"renderArticlePreviews",value:function(){var e=this;return this.props.articles.map((function(t,a){return(null==e.props.article_info?e.state.articleId:e.props.article_info._id)!==t._id&&n.a.createElement(E.a,{key:a,className:"mt-4 bg-light",style:{border:"none"}},n.a.createElement(E.a.Title,{className:"mt-3 ml-5",style:{fontSize:"1.2rem"}},t.title),n.a.createElement(E.a.Body,{className:"row"},n.a.createElement(d.b,{render:function(a){var r=a.history;return n.a.createElement(E.a.Img,{onClick:function(){r.push("/article/"+t._id),e.props.gotoArticle(t)},className:"img-fluid col-md-4",style:{maxHeight:"20rem",width:"auto",objectFit:"cover"},src:t.img_url})}}),n.a.createElement(E.a.Text,{className:"col-md-5"},t.lead),n.a.createElement(m.b,{className:"col-md-2 mr-0",to:"/article/"+t._id,onClick:function(){return e.handleGotoArticle(t)}},"Read more")))}))}},{key:"render",value:function(){return n.a.createElement(p.a,null,n.a.createElement(p.a,{className:"bg-white mt-4",style:{padding:"2rem"}},this.renderArticle()),n.a.createElement(p.a,{style:{marginTop:"5rem"}},n.a.createElement("h4",null,"More articles:"),this.renderArticlePreviews()))}}]),t}(r.Component);var w=Object(b.a)((function(e){var t=e.ArticleReducer;return{articles:t.articles,article_info:t.article_info}}),{getArticle:g.c,getArticles:g.d,gotoArticle:g.e})(y),T=a(12),L=a(34),I=a(27),R=function(e){function t(){var e;return Object(_.a)(this,t),(e=Object(i.a)(this,Object(c.a)(t).call(this))).state={createArticle:!1},e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getArticles()}},{key:"render",value:function(){var e=this;return n.a.createElement(p.a,{style:{padding:"5rem"}},n.a.createElement("h2",null,"Manage articles"),n.a.createElement(L.a,null,n.a.createElement(I.a,{className:"col-sm-3"},n.a.createElement(d.b,{render:function(e){var t=e.history;return n.a.createElement(T.a,{size:"sm",onClick:function(){t.push({pathname:"/create",state:{edit:!1,article:null}})}},"New Article")}})),n.a.createElement(I.a,{className:"col-sm-5"},n.a.createElement(p.a,null,this.props.articles.map((function(t,a){return n.a.createElement(E.a,{key:a,className:"mt-1",style:{border:"none"}},n.a.createElement(E.a.Title,{className:"mt-3 ml-5"},t.title),n.a.createElement(E.a.Body,null,n.a.createElement(T.a,{className:"m-1",onClick:function(){var a=e;e.props.deleteArticle(t._id,(function(){return a.props.getArticles()}))}},"Delete"),n.a.createElement(d.b,{render:function(e){var a=e.history;return n.a.createElement(T.a,{className:"m-1",onClick:function(){a.push({pathname:"/create",state:{edit:!0,article:t}})}},"Edit")}})))}))))))}}]),t}(r.Component);var k=Object(b.a)((function(e){var t=e.ArticleReducer,a=e.AuthReducer;return{articles:t.articles,isAuthenticated:a.isAuthenticated}}),{getArticles:g.d,gotoArticle:g.e,deleteArticle:g.b})(R),U=a(41),B=a(70),W=a(53),K=a(29),N=a(6),x=a(28),j=a(83),S=a(38),F=function(e){function t(){var e;return Object(_.a)(this,t),(e=Object(i.a)(this,Object(c.a)(t).call(this))).state={selectedLayout:"Layout template",paragraphs:0,preview:!1,title:"",author:"",lead:"",sources:"",tags:"",template:"",layoutData:null},e.titleNode=n.a.createRef(),e.authorNode=n.a.createRef(),e.leadNode=n.a.createRef(),e.sourcesNode=n.a.createRef(),e.tagsNode=n.a.createRef(),e.renderLayout.bind(Object(o.a)(e)),e.saveArticle.bind(Object(o.a)(e)),e.setLayoutData.bind(Object(o.a)(e)),e.article={title:e.state.title,author:e.state.author,lead:e.state.lead,sources:e.state.sources,tags:e.state.tags,template:e.state.template},e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"setLayoutData",value:function(e){this.setState({layoutData:e})}},{key:"saveArticle",value:function(){if(this.props.location.state.edit){var e=Object(K.a)({id:this.props.location.state.article._id,title:""===this.state.title?this.props.location.state.article.title:this.state.title,author:""===this.state.author?this.props.location.state.article.author:this.state.author,lead:""===this.state.lead?this.props.location.state.article.lead:this.state.lead,sources:""===this.state.sources?this.props.location.state.article.sources:this.state.sources,tags:""==this.state.tags?this.props.location.state.article.tags:this.state.tags,template:""===this.state.template?this.props.location.state.article.template:this.state.template},this.state.layoutData);this.props.updateArticle(e)}else{var t={title:this.state.title,author:this.state.author,lead:this.state.lead,sources:this.state.sources,tags:this.state.tags,template:this.state.template,layoutData:this.state.layoutData};this.props.createArticle(t)}}},{key:"renderLayout",value:function(e){this.setState({selectedLayout:e})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{style:{padding:"1rem"}},n.a.createElement("h2",null,"Create new article"),n.a.createElement(N.a,{className:"mb-3"},n.a.createElement(N.a.Prepend,null,n.a.createElement(N.a.Text,{id:"label"},"Article Title:")),n.a.createElement(x.a,{placeholder:"title","aria-label":"title","aria-describedby":"label",ref:this.titleNode,defaultValue:this.props.location.state.edit?this.props.location.state.article.title:"",onChange:function(t){return e.setState({title:t.target.value})}})),n.a.createElement(N.a,{className:"mb-3"},n.a.createElement(N.a.Prepend,null,n.a.createElement(N.a.Text,{id:"label"},"Author:")),n.a.createElement(x.a,{placeholder:"author name","aria-label":"Author","aria-describedby":"label",defaultValue:this.props.location.state.edit?this.props.location.state.article.author:"",onChange:function(t){return e.setState({author:t.target.value})}})),n.a.createElement(N.a,{className:"mb-3"},n.a.createElement(N.a.Prepend,null,n.a.createElement(N.a.Text,null,"Lead:")),n.a.createElement(x.a,{as:"textarea",placeholder:"lead text","aria-label":"Lead",ref:this.leadNode,defaultValue:this.props.location.state.edit?this.props.location.state.article.lead:"",onChange:function(t){return e.setState({lead:t.target.value})}})),n.a.createElement(N.a,{className:"mb-3"},n.a.createElement(N.a.Prepend,null,n.a.createElement(N.a.Text,{id:"label"},"Sources:")),n.a.createElement(x.a,{placeholder:"sources","aria-label":"sources","aria-describedby":"label",defaultValue:this.props.location.state.edit?this.props.location.state.article.sources:"",onChange:function(t){return e.setState({sources:t.target.value})}})),n.a.createElement(N.a,{className:"mt-3"},n.a.createElement(N.a.Prepend,null,n.a.createElement(N.a.Text,{id:"label"},"Tags:")),n.a.createElement(x.a,{placeholder:"tags separated by comma","aria-label":"tags","aria-describedby":"tags",ref:this.tagsNode,defaultValue:this.props.location.state.edit?this.props.location.state.article.tags:"",onChange:function(t){return e.setState({tags:t.target.value})}})),n.a.createElement(N.a,{className:"mt-3 mb-3"},n.a.createElement(j.a,{as:N.a.Prepend,variant:"outline-secondary",title:"Layout template",id:"input-group-dropdown-1",onSelect:function(t){e.renderLayout(t),e.setState({template:t})}},n.a.createElement(S.a.Item,{active:"true",eventKey:"Simple"},"Simple"),n.a.createElement(S.a.Item,{eventKey:"Basic"},"Basic"),n.a.createElement(S.a.Item,{eventKey:"Custom"},"Complex"))),"Layout template"!=this.state.selectedLayout&&n.a.createElement("h3",null,this.state.selectedLayout," Article Layout"),"Simple"===this.state.selectedLayout&&n.a.createElement("div",{mt:2},n.a.createElement(C.a,{editArticle:!0,showArticle:this.state.preview,title:this.state.title,author:this.state.author,lead:this.state.lead,sources:this.state.sources,tag:this.state.tags,text:this.props.location.state.edit?this.props.location.state.article.text:"",img_url:this.props.location.state.edit?this.props.location.state.article.img_url:"",date:this.props.location.state.edit?this.props.location.state.article.date:new Date,layoutDataCallback:function(t){return e.setLayoutData(t)}}),n.a.createElement(T.a,{style:{marginTop:"2rem"},size:"sm",onClick:function(){return e.setState({preview:!e.state.preview})}},this.state.preview&&n.a.createElement("a",null,"Hide preview"),!this.state.preview&&n.a.createElement("a",null,"Show preview"))),n.a.createElement(p.a,{style:{marginTop:"2rem"}},n.a.createElement(L.a,null,n.a.createElement(I.a,{md:2},n.a.createElement(d.b,{render:function(t){var a=t.history;return n.a.createElement(T.a,{size:"sm",onClick:function(){e.saveArticle(),a.push("/management")}},"Publish")}})),n.a.createElement(I.a,{md:2},n.a.createElement(d.b,{render:function(e){var t=e.history;return n.a.createElement(T.a,{size:"sm",onClick:function(){return t.push("/management")}},"Cancel")}})))))}}]),t}(r.Component);var q=Object(b.a)((function(e){var t=e.ArticleReducer,a=e.AuthReducer;return{articles:t.articles,isAuthenticated:a.isAuthenticated}}),{createArticle:g.a,updateArticle:g.g})(F),z=a(68),G=function(e){function t(){var e;return Object(_.a)(this,t),(e=Object(i.a)(this,Object(c.a)(t).call(this))).state={search:!1,navExpanded:!1},e.searchRef=n.a.createRef(),e.onlogin.bind(Object(o.a)(e)),e.onlogout.bind(Object(o.a)(e)),e.setNavExpanded.bind(Object(o.a)(e)),e.closeNav.bind(Object(o.a)(e)),e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"setNavExpanded",value:function(){this.setState({navExpanded:!0})}},{key:"closeNav",value:function(){this.setState({navExpanded:!1})}},{key:"onlogin",value:function(e,t){console.log("login...");var a={name:e,password:t};this.props.loginUser(a)}},{key:"onlogout",value:function(){console.log("logout..."),this.props.logoutUser()}},{key:"handleSubmit",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.isAuthenticated?this.onlogout():this.onlogin(e.currentTarget.elements[0].value,e.currentTarget.elements[1].value)}},{key:"renderAbout",value:function(){return window.scrollTo(0,300),n.a.createElement(p.a,{className:"fluid pt-5",style:{maxWidth:"50rem",border:"none"}},n.a.createElement(E.a,null,n.a.createElement(E.a.Header,{className:"text-center",style:{fontFamily:"Tw Cen MT",fontSize:"1.5rem"}},"About Finland China News"),n.a.createElement(L.a,null,n.a.createElement(I.a,{style:{maxWidth:"10%"}},n.a.createElement("div",{className:"bg-success",style:{height:"100%",width:"1rem"}})),n.a.createElement(I.a,{className:"col-xs-16 col-sm-16 col-md-16"},n.a.createElement(E.a.Body,null,n.a.createElement(E.a.Text,{style:{fontFamily:"Verdana"}},"Finland China News was established with the goal to build and expand the Finland China business community. The aim for this platform is to help companies and people make better decisions through access to highly relevant information.",n.a.createElement("br",null),n.a.createElement("br",null),"Today, there are around 400 Finnish companies in China, and around 100 Chinese companies in Finland. Our vision is to become the leading knowledge platform for accessing information that affect the companies, investors and people in this market."))))))}},{key:"renderContact",value:function(){return window.scrollTo(0,300),n.a.createElement(p.a,{className:"fluid pt-5",style:{maxWidth:"50rem",border:"none"}},n.a.createElement(E.a,null,n.a.createElement(E.a.Header,{className:"text-center",style:{fontFamily:"Tw Cen MT",fontSize:"1.5rem"}},"Contact Information"),n.a.createElement(L.a,null,n.a.createElement(I.a,{style:{maxWidth:"10%"}},n.a.createElement("div",{className:"bg-success",style:{height:"100%",width:"1rem"}})),n.a.createElement(I.a,{className:"col-xs-16 col-sm-16 col-md-16"},n.a.createElement(E.a.Body,null,n.a.createElement(E.a.Text,{style:{fontFamily:"Verdana"}},"Want to get involved, or suggest a good piece of news? We would love to hear your feedback on below address:",n.a.createElement("br",null),n.a.createElement("br",null),"finlandchinanews@outlook.com"))))))}},{key:"render",value:function(){var e=this;return n.a.createElement(m.a,{basename:"/"},n.a.createElement("div",{className:"logo",style:{textAlign:"center",backgroundPosition:"center",height:"15rem",backgroundImage:"url(https://defaultwebresources.blob.core.windows.net/resources/forest_lake.jpg)"}},n.a.createElement("h1",{style:{paddingTop:"5rem",textAlign:"center",fontFamily:"Tw Cen MT",color:"white",fontSize:"2rem"}},"FINLAND CHINA NEWS",n.a.createElement("p",null,"\u82ac \u4e2d \u65b0 \u95fb\u200b"))),n.a.createElement(B.a,{onClick:function(){e.state.search&&e.setState({}),e.props.setArticleFilter(""),e.searchRef.value=""},collapseOnSelect:!0,className:"bg-light mb-2",expand:"lg",onToggle:function(){e.setState({navExpanded:!e.state.navExpanded}),console.log("exp")},expanded:this.state.navExpanded,id:"responsive-navbar-nav"},n.a.createElement(B.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),n.a.createElement(B.a.Collapse,null,n.a.createElement(U.a,{className:"justify-content-center",style:{width:"100%"}},n.a.createElement(U.a.Item,{onClick:function(){return e.setState({navExpanded:!1})}},n.a.createElement(m.b,{to:"/mainpage",className:"nav-link mr-5 ml-5 text-center",style:{fontFamily:"Tw Cen MT",fontSize:"1.5rem"}},"HOME")),n.a.createElement(U.a.Item,{onClick:function(){return e.setState({navExpanded:!1})},className:"mr-5 ml-5 text-center"},n.a.createElement(m.b,{className:"nav-link",to:"/about",style:{fontFamily:"Tw Cen MT",fontSize:"1.5rem"}},"ABOUT")),n.a.createElement(U.a.Item,{onClick:function(){return e.setState({navExpanded:!1})},className:"mr-5 ml-5 text-center"},n.a.createElement(m.b,{className:"nav-link",to:"/contact",style:{fontFamily:"Tw Cen MT",fontSize:"1.5rem"}},"CONTACT")),n.a.createElement(U.a.Item,{onClick:function(){return e.setState({navExpanded:!1})},className:"mr-5 ml-5 text-center"},n.a.createElement(U.a.Link,{onClick:function(){return e.setState({search:!e.state.search})},style:{fontFamily:"Tw Cen MT",fontSize:"1.5rem"}},"SEARCH"))))),n.a.createElement(z.a,{in:this.state.search},n.a.createElement(p.a,null,n.a.createElement(W.a.Control,{ref:function(t){return e.searchRef=t},className:"text-center",placeholder:"search for article",onChange:function(t){return e.props.setArticleFilter(t.target.value.toLowerCase())}}))),""!==this.props.filter&&"#/mainpage"===window.location.hash&&n.a.createElement(p.a,{style:{display:"flex",flexDirection:"row"}},n.a.createElement(T.a,{onClick:function(){e.props.setArticleFilter(""),e.setState({search:!1}),e.searchRef.value=""},style:{flex:.1,fontWeight:"bold",border:"none",color:"red",background:"transparent"}},"\u274c"),n.a.createElement("h3",{style:{flex:5}},"Showing articles with keyword '",this.props.filter,"':")),n.a.createElement(d.d,null,n.a.createElement(d.b,{exact:!0,path:"/"},n.a.createElement(d.a,{to:"/mainpage"})),n.a.createElement(d.b,{path:"/mainpage"},n.a.createElement(P,null)),n.a.createElement(d.b,{path:"/article"},n.a.createElement(w,null)),n.a.createElement(d.b,{path:"/about"},this.renderAbout()),n.a.createElement(d.b,{path:"/contact"},this.renderContact()),this.props.isAuthenticated&&n.a.createElement(d.b,{path:"/management"},n.a.createElement(k,null)),this.props.isAuthenticated&&n.a.createElement(d.b,{path:"/create",render:function(e){return n.a.createElement(q,e)}})),n.a.createElement("div",{style:{width:"100%",height:"8rem",textAlign:"center"}},n.a.createElement("p",{style:{marginTop:"5rem"}},"\xa9 Finland China News"),n.a.createElement("p",null,"2020")),n.a.createElement(p.a,{style:{position:"relative",marginBottom:"2rem"}},n.a.createElement(W.a,{onSubmit:this.handleSubmit.bind(this),className:"align-text-bottom"},!this.props.isAuthenticated&&n.a.createElement(L.a,{className:"justify-content-center row-cols-sm-3",style:{margin:"auto",float:"none"}},n.a.createElement(I.a,{className:"col-sm-2"},n.a.createElement(W.a.Control,{required:!0,style:{paddingRight:"0",marginRight:"0"},size:"sm",placeholder:"username"})),n.a.createElement(I.a,{className:"col-sm-2"},n.a.createElement(W.a.Control,{required:!0,size:"sm",type:"password",placeholder:"password"})),n.a.createElement(I.a,{className:"col-sm-1"},n.a.createElement(T.a,{className:"btn-secondary",size:"sm",type:"submit"},"Login"),n.a.createElement("a",{href:"#",style:{color:"red",fontSize:"0.7rem"}},this.props.errorMessage))),this.props.isAuthenticated&&n.a.createElement(L.a,{className:"justify-content-center row-cols-sm-2",style:{margin:"auto",float:"none",width:"60%"}},n.a.createElement(I.a,{className:"col-sm-2"},n.a.createElement(d.b,{render:function(e){var t=e.history;return n.a.createElement(T.a,{className:"btn-secondary",size:"sm",onClick:function(){return t.push("/")},type:"submit"},"Logout")}})),n.a.createElement(I.a,{className:"col-sm-2"},n.a.createElement(d.b,{render:function(e){var t=e.history;return n.a.createElement(T.a,{className:"btn-secondary",size:"sm",onClick:function(){return t.push("/management")}},"Manage")}}))))))}}]),t}(r.Component);var H=Object(b.a)((function(e){var t=e.ArticleReducer,a=e.AuthReducer;return{article_info:t.article_info,filter:t.filter,isAuthenticated:a.isAuthenticated,errorMessage:a.errorMessage}}),{loginUser:function(e){var t={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:f({name:e.name,password:e.password})};return function(a){return a(function(e){return{type:h.f,isFetching:!0,isAuthenticated:!1,user:e}}(e)),fetch("https://aqueous-coast-74759.herokuapp.com/login",t).then((function(e){return e.json().then((function(t){return{user:t,response:e}}))})).then((function(e){var t=e.user;if(200!==e.response.status)return console.log("Login failed"),Promise.reject(t);localStorage.setItem("access_token",t.access_token),a(function(e){return{type:h.g,isFetching:!1,isAuthenticated:!0,id_token:e.id_token}}(t))})).catch((function(e){return a((t=e.message,{type:h.e,isFetching:!1,isAuthenticated:!1,errorMessage:t}));var t}))}},logoutUser:function(){return function(e){e({type:h.h,isFetching:!0,isAuthenticated:!0}),localStorage.removeItem("access_token"),e({type:h.i,isFetching:!1,isAuthenticated:!1})}},setArticleFilter:g.f})(G);var V=function(){return n.a.createElement(H,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(111);var J=a(40),$=a(90),Q={isFetching:!1,isAuthenticated:!!localStorage.getItem("access_token"),errorMessage:"",user:null,id_token:null,login_success:!1},X={article_info:null,loading_articles:!1,articles:[],filter:""},Y=Object(J.c)({ArticleReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.d:return Object(K.a)({},e,{loading_articles:t.loading_articles});case h.c:return Object(K.a)({},e,{article_info:t.payload});case h.a:return Object(K.a)({},e,{articles:t.articles,loading_articles:t.loading_articles});case h.b:return Object(K.a)({},e,{filter:t.payload});default:return e}},AuthReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.f:return Object(K.a)({},e,{isFetching:!0,isAuthenticated:!1,user:t.payload});case h.g:return Object(K.a)({},e,{isFetching:!1,isAuthenticated:!0,errorMessage:""});case h.e:return Object(K.a)({},e,{isFetching:!1,isAuthenticated:!1,errorMessage:t.errorMessage});case h.i:return Object(K.a)({},e,{login_success:!0,isFetching:!0,isAuthenticated:!1});default:return e}}}),Z=a(89),ee=Object(J.d)(Y,{},Object(J.a)(Z.a));Object(l.render)(n.a.createElement($.a,{store:ee},n.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},60:function(module,__webpack_exports__,__webpack_require__){"use strict";var C_Users_Lenovo_Desktop_Dev_webdev_com_finlandchinanews_cli_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(15),C_Users_Lenovo_Desktop_Dev_webdev_com_finlandchinanews_cli_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(24),C_Users_Lenovo_Desktop_Dev_webdev_com_finlandchinanews_cli_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(18),C_Users_Lenovo_Desktop_Dev_webdev_com_finlandchinanews_cli_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(16),C_Users_Lenovo_Desktop_Dev_webdev_com_finlandchinanews_cli_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(22),C_Users_Lenovo_Desktop_Dev_webdev_com_finlandchinanews_cli_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(17),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),react_bootstrap_Container__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(10),react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(34),react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(27),react_bootstrap_InputGroup__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6),react_bootstrap_FormControl__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(28),react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(12),_actions_article__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(9),react_bootstrap_Figure__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(46),react_share__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(113),react_share__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(114),react_share__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(115),react_share__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(116),react_redux_es_connect_connect__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(14),react_router_dom__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(32),SimpleArticle=function(_Component){function SimpleArticle(){var e;return Object(C_Users_Lenovo_Desktop_Dev_webdev_com_finlandchinanews_cli_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,SimpleArticle),(e=Object(C_Users_Lenovo_Desktop_Dev_webdev_com_finlandchinanews_cli_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.a)(this,Object(C_Users_Lenovo_Desktop_Dev_webdev_com_finlandchinanews_cli_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.a)(SimpleArticle).call(this))).state={width:window.innerWidth,paragraphs:0,text:"",img_url:"",date:new Date},e.renderParagraphs.bind(Object(C_Users_Lenovo_Desktop_Dev_webdev_com_finlandchinanews_cli_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.a)(e)),e.renderEditor.bind(Object(C_Users_Lenovo_Desktop_Dev_webdev_com_finlandchinanews_cli_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.a)(e)),e.renderArticle.bind(Object(C_Users_Lenovo_Desktop_Dev_webdev_com_finlandchinanews_cli_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.a)(e)),e}return Object(C_Users_Lenovo_Desktop_Dev_webdev_com_finlandchinanews_cli_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__.a)(SimpleArticle,_Component),Object(C_Users_Lenovo_Desktop_Dev_webdev_com_finlandchinanews_cli_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(SimpleArticle,[{key:"componentDidUpdate",value:function(e,t){console.log(this.state.width),t.text===this.state.text&&t.img_url===this.state.img_url||this.props.layoutDataCallback({text:""===this.state.text?this.props.text:this.state.text,img_url:""===this.state.img_url?this.props.img_url:this.state.img_url})}},{key:"renderArticle",value:function renderArticle(){var _this2=this;return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_bootstrap_Container__WEBPACK_IMPORTED_MODULE_7__.a,{className:"bg-white mt-4 p-sm-1"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("h2",null,this.props.editArticle?this.props.title:this.props.article_info.title),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("p",null,new Date(this.props.editArticle?this.props.date:this.props.article_info.date).toDateString()),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_bootstrap_Figure__WEBPACK_IMPORTED_MODULE_14__.a,{style:{flex:1}},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_bootstrap_Figure__WEBPACK_IMPORTED_MODULE_14__.a.Image,{src:this.props.editArticle?this.state.img_url:this.props.article_info.img_url}))),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{style:{marginLeft:this.state.width>500?.005*this.state.width+"rem":"0rem",marginRight:this.state.width>500?eval(.005*this.state.width)+"rem":"0rem"}},this.props.editArticle?this.state.text.split("\n").map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("p",{key:t},e)})):this.props.article_info.text.split("\n").map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("p",{key:t},e)}))),"Sources:",react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{style:{wordWrap:"break-word"}},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("a",null,this.props.editArticle?this.props.sources:this.props.article_info.sources))),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_8__.a,{className:"row-cols-xs-1 bg-light p-4 mt-1"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_share__WEBPACK_IMPORTED_MODULE_15__.a,{className:"m-2",url:window.location.href},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_share__WEBPACK_IMPORTED_MODULE_16__.a,{size:32}))),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_share__WEBPACK_IMPORTED_MODULE_17__.a,{className:"m-2",url:window.location.href},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_share__WEBPACK_IMPORTED_MODULE_18__.a,{size:32}))),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_20__.b,{render:function(e){var t=e.history;return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"m-3"},(_this2.props.editArticle?_this2.props.tag:_this2.props.article_info.tags).split(",").map((function(e){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("a",{className:"m-1 bg-secondary",href:"#",onClick:function(a){a.preventDefault(),a.stopPropagation(),_this2.props.setArticleFilter(e),t.push("/mainpage")},style:{color:"white",paddingLeft:"1rem",paddingRight:"1rem"}},e)})))}}))))}},{key:"renderParagraphs",value:function(){for(var e=this,t=[],a=0;a<this.state.paragraphs;a++)t.push(react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_8__.a,null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_9__.a,{md:10},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_bootstrap_InputGroup__WEBPACK_IMPORTED_MODULE_10__.a,{key:a},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_bootstrap_InputGroup__WEBPACK_IMPORTED_MODULE_10__.a.Prepend,null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_bootstrap_InputGroup__WEBPACK_IMPORTED_MODULE_10__.a.Text,null,"Paragraph ",a+2)),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_bootstrap_FormControl__WEBPACK_IMPORTED_MODULE_11__.a,{as:"textarea","aria-label":"Paragraph"}))),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_9__.a,{md:2},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_12__.a,{className:"btn-danger",size:"sm",onClick:function(){return e.setState({paragraphs:e.state.paragraphs-1})}},"x"))));return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_bootstrap_Container__WEBPACK_IMPORTED_MODULE_7__.a,null,t)}},{key:"renderEditor",value:function(){var e=this;return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{style:{padding:0,margin:0,width:"100%"}},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_bootstrap_InputGroup__WEBPACK_IMPORTED_MODULE_10__.a,{style:{height:"15rem"}},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_bootstrap_InputGroup__WEBPACK_IMPORTED_MODULE_10__.a.Prepend,null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_bootstrap_InputGroup__WEBPACK_IMPORTED_MODULE_10__.a.Text,null,"Article text")),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_bootstrap_FormControl__WEBPACK_IMPORTED_MODULE_11__.a,{onChange:function(t){return e.setState({text:t.target.value})},as:"textarea","aria-label":"Paragraph",defaultValue:this.props.text})),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_12__.a,{disabled:!0,size:"sm",onClick:function(){return e.setState({paragraphs:e.state.paragraphs+1})}},"Add"),this.renderParagraphs(),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_bootstrap_InputGroup__WEBPACK_IMPORTED_MODULE_10__.a,{className:"mt-3"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_bootstrap_InputGroup__WEBPACK_IMPORTED_MODULE_10__.a.Prepend,null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_bootstrap_InputGroup__WEBPACK_IMPORTED_MODULE_10__.a.Text,{id:"label"},"Image url:")),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_bootstrap_FormControl__WEBPACK_IMPORTED_MODULE_11__.a,{onChange:function(t){return e.setState({img_url:t.target.value})},placeholder:"image url","aria-label":"image url","aria-describedby":"label",defaultValue:this.props.img_url})))}},{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",null,this.props.editArticle&&this.renderEditor(),this.props.showArticle&&this.renderArticle())}}]),SimpleArticle}(react__WEBPACK_IMPORTED_MODULE_6__.Component);function mapStateToProps(e){return{article_info:e.ArticleReducer.article_info}}__webpack_exports__.a=Object(react_redux_es_connect_connect__WEBPACK_IMPORTED_MODULE_19__.a)(mapStateToProps,{setArticleFilter:_actions_article__WEBPACK_IMPORTED_MODULE_13__.f})(SimpleArticle)},9:function(e,t,a){"use strict";a.d(t,"e",(function(){return _})),a.d(t,"f",(function(){return s})),a.d(t,"g",(function(){return i})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return u})),a.d(t,"d",(function(){return m}));var r=a(11),n=(a(77).stringify,"https://aqueous-coast-74759.herokuapp.com/");function l(e){return{type:r.c,payload:e}}function _(e){return function(t){t(l(e))}}function s(e){return function(t){t({type:r.b,payload:e})}}function i(e){var t={method:"POST",headers:{"Content-Type":"application/json",access_token:localStorage.getItem("access_token")},body:JSON.stringify(e)};return function(){return console.log("Updating article to server.."),fetch(n+"updateArticle",t).then((function(e){return e.json().then((function(t){return{message:t,response:e}}))})).then((function(e){var t=e.message;if(200!==e.response.status)return console.log(t),Promise.reject(t);console.log(t)})).catch((function(e){return console.log(e)}))}}function c(e){var t={method:"POST",headers:{"Content-Type":"application/json",access_token:localStorage.getItem("access_token")},body:JSON.stringify(e)};return function(){return fetch(n+"createArticle",t).then((function(e){return e.json().then((function(t){return{message:t,response:e}}))})).then((function(e){var t=e.message;if(200!==e.response.status)return console.log(t),Promise.reject(t);console.log(t)})).catch((function(e){return console.log(e)}))}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a={method:"DELETE",headers:{"Content-Type":"application/x-www-form-urlencoded",access_token:localStorage.getItem("access_token")}};return function(){return fetch(n+"deleteArticle/"+e,a).then((function(e){return e.json().then((function(t){return{message:t,response:e}}))})).then((function(e){var a=e.message;if(200!=e.response.status)return console.log("Failed to delete article"),Promise.reject(a);console.log(a),null!=t&&t()})).catch((function(e){return console.log(e)}))}}function u(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t={method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}};return function(a){return fetch(n+"getArticle/"+e,t).then((function(e){return e.json().then((function(t){return{article:t,response:e}}))})).then((function(t){var r=t.article;if(200!==t.response.status)return console.log("Failed to get article "+e),Promise.reject(r);a(l(r))})).catch((function(e){return console.log(e)}))}}function m(){var e={method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}};return function(t){return t({type:r.d,loading_articles:!0}),fetch(n+"getArticles",e).then((function(e){return e.json().then((function(t){return{articles:t,response:e}}))})).then((function(e){var a,n=e.articles;if(200!==e.response.status)return console.log("Error getting articles"),Promise.reject(n);t((a=n,{type:r.a,articles:a,loading_articles:!1}))})).catch((function(e){return console.log(e)}))}}},92:function(e,t,a){e.exports=a(112)},97:function(e,t,a){}},[[92,1,2]]]);
//# sourceMappingURL=main.add251e0.chunk.js.map